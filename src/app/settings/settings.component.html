<div class="max-w-2xl mx-auto p-30">
  <div class="flex items-center justify-between">
    <h2 class="mb-4">Account settings</h2>
    <div class="flex gap-4 mb-3">
      <app-cancel-button routerLink="/home" />
    </div>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-1 mt-10">
    <div>
      <h2 class="text-2xl text-center font-semibold mb-1">Profile</h2>
      <div class="flex gap-2 border-b p-2">
        <p class="font-bold text-md">Name:</p>
        <p class="text-md"> {{ user?.name }} </p>
      </div>
      <div class="flex gap-2 border-b p-2">
        <p class="font-bold text-md">Email:</p>
        <p class="text-md"> {{ user?.email }} </p>
      </div>
    </div>

    <div>

      <form [formGroup]="settingsForm" (ngSubmit)="updateUser()">
        <!-- Profile -->
        <div class="mb-10 mt-8">
          <h2 class="text-2xl text-center font-semibold mb-1">Update account</h2>
          <p class="text-gray-500 text-center mb-6">Update your profile and personal details here</p>


          <div class="mb-4">
            <label for="name">Name:</label>
            <input type="text" id="name" formControlName="name" class="border border-gray-300 rounded p-2 mt-2 w-full">
            @if (backendErrors['name']) {
            @for (error of backendErrors['name']; track error) {
            <div class="text-red-500 text-sm mt-1">{{ error }}</div>
            }
            }
          </div>
          <label for="email">Email:</label>
          <input type="email" id="email" formControlName="email" class="border border-gray-300 rounded p-2 mt-2 w-full">

          @if (backendErrors['email']) {
          @for (error of backendErrors['email']; track error) {
          <div class="text-red-500 text-sm mt-1">{{ error }}</div>
          }
          }
        </div>

        <!-- Password -->
        <div class="mb-10 mt-2">
          <label for="password">Password</label>
          <input type="password" id="password" formControlName="password" class="border border-gray-300 rounded p-2 mt-2 w-full">
          @if (backendErrors['password']) {
          @for (error of backendErrors['password']; track error) {
          <div class="text-red-500 text-sm mt-1">{{ error }}</div>
          }
          }
          <label for="password_confirmation">Confirm password</label>
          <input type="password_confirmation" id="password_confirmation" formControlName="password_confirmation"
           class="border border-gray-300 rounded p-2 mt-2 w-full">
          @if (backendErrors['password_confirmation']) {
          @for (error of backendErrors['password_confirmation']; track error) {
          <div class="text-red-500 text-sm mt-1">{{ error }}</div>
          }
          }
          <div class="flex items-center justify-center mt-4">
          <app-update-button />
          </div>
        </div>
      </form>

      <!-- Danger zone -->
      <div class="border border-red-200 bg-red-50 p-4 mt-10 rounded-md flex flex-col items-center justify-center">
        <h3 class="text-lg font-medium text-red-600 mb-2">Danger zone</h3>
        <p class="text-sm text-red-600 mb-4">Permanently remove your account. This action is not reversible.</p>
        <app-delete-button (onClick)="deleteUser()" />
      </div>
    </div>

  </div>
</div>