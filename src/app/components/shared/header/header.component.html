<header class="flex fixed justify-between items-center bg-[#fffcfb] border-b border-gray-300 h-[8vh] w-full p-8 z-100">
  <div class="flex items-center gap-2.5">
    <img src="logo.png" alt="Plant Shop Logo" class="h-10">
    <span class="text-4xl">Plantfix</span>
  </div>

  <div class="flex items-center gap-4">
    <button routerLink="/cart" class="relative cursor-pointer border-r border-gray-300 pr-8">
      <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round"
        stroke-linejoin="round">
        <circle cx="9" cy="21" r="1" fill="currentColor" />
        <circle cx="20" cy="21" r="1" fill="currentColor" />
        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" stroke="currentColor" stroke-width="2"
          fill="none" />
      </svg>

      <span
        class="absolute top-[-6px] left-[28px] bg-[#69b85d] text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">
        {{cartItemCount}}
      </span>
    </button>

    <!-- Dropdown menu -->
    <div class="relative inline-block text-left">
      <div>
        <button type="button" (click)="toggleMenu()"
          class="px-3 py-2 rounded-full bg-[#1F2937] hover:bg-[#374151] flex items-center space-x-2 focus:outline-none">

          <!-- Ícono de usuario fino -->
          <svg viewBox="0 0 24 24" fill="none" stroke="white" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5">
            <path
              d="M22 12C22 6.49 17.51 2 12 2C6.49 2 2 6.49 2 12C2 14.9 3.25 17.51 5.23 19.34C5.32 19.46 5.44 19.54 5.54 19.63C5.89 19.92 6.09 20.06 6.28 20.2C6.67 20.47 6.87 20.59 7.08 20.7C7.5 20.94 7.71 21.04 7.93 21.13C8.39 21.33 8.61 21.41 8.83 21.48C9.31 21.63 9.55 21.69 9.79 21.75C10.29 21.86 10.57 21.9 10.86 21.93C11.32 21.98 11.66 22 12 22C12.34 22 12.68 21.98 13.01 21.95C13.42 21.9 13.7 21.86 13.98 21.8C14.44 21.69 14.69 21.64 14.92 21.56C15.38 21.4 15.61 21.33 15.82 21.24C16.27 21.04 16.48 20.94 16.69 20.83C17.11 20.58 17.31 20.47 17.51 20.34C17.91 20.06 18.1 19.92 18.28 19.77C18.56 19.54 18.67 19.45 18.77 19.36C20.75 17.51 22 14.9 22 12ZM16.94 16.97C14.23 15.15 9.79 15.15 7.06 16.97C6.62 17.26 6.26 17.6 5.96 17.97C4.44 16.43 3.5 14.32 3.5 12C3.5 7.31 7.31 3.5 12 3.5C16.69 3.5 20.5 7.31 20.5 12C20.5 14.32 19.56 16.43 18.04 17.97C17.75 17.6 17.38 17.26 16.94 16.97Z"
              fill="white" />
            <path
              d="M12 6.93C9.93 6.93 8.25 8.61 8.25 10.68C8.25 12.71 9.84 14.36 11.95 14.42C14.15 14.35 15.74 12.71 15.75 10.68C15.75 8.61 14.07 6.93 12 6.93Z"
              fill="white" />
          </svg>

          <!-- Flecha hacia abajo -->
          <svg viewBox="0 0 24 24" fill="none" stroke="white" xmlns="http://www.w3.org/2000/svg" class="w-4 h-4">
            <path d="M6 9l6 6 6-6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </button>
      </div>

      <!-- Menu -->
      <div *ngIf="isMenuOpen"
        class="absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
        role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
        <div class="p-2 text-sm font-normal" role="none">
          <div class="flex items-center gap-2 px-2 py-2 text-left text-sm">
            <div
              class="relative flex h-8 w-8 shrink-0 overflow-hidden rounded-lg bg-gray-200 items-center justify-center">
              {{ getInitial() }}
            </div>
            <div class="grid flex-1 text-left text-sm leading-tight">
              <span class="truncate font-semibold">{{user.name}}</span>
              <span class="truncate text-xs text-gray-500">{{user.email}}</span>
            </div>
          </div>
        </div>

        <div class="border-t border-gray-200 my-1"></div>

        <button routerLink="/settings/{{ user.id }}"
          class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" tabindex="-1">
          Settings
        </button>

        <div class="border-t border-gray-200 my-1"></div>

        <button (click)="logout()" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
          role="menuitem" tabindex="-1">
          Logout
        </button>
      </div>
    </div>
  </div>
</header>